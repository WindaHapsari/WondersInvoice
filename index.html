<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wonders Invoice</title>
    <link rel="icon" href="https://cdn.brandfetch.io/idFXqyz36s/w/256/h/256/theme/dark/icon.png?c=1dxbfHSJFAPEGdCLU4o5B" type="image/png">
    
    <link rel="stylesheet" href="css/style.css">
    <script src="js/script.js" defer></script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
    </div>

    <div class="hero-section" id="brandSelectionSection">
        <div class="website-header">
            <div class="website-logo">
                <img src="https://cdn.brandfetch.io/idFXqyz36s/w/256/h/256/theme/dark/icon.png?c=1dxbfHSJFAPEGdCLU4o5B" alt="Website Logo">
            </div>
            <span class="website-name">Wonders Invoice</span> </div>

        <div class="hero-content-wrapper">
            <div class="hero-left">
                <h1>Put your business on auto-pilot</h1>
                <p class="tagline-text">
                    Invoicer makes business invoicing and billing so simple. Get paid faster when you order.
                </p>
                <p class="tagline-text">
                    Pilih brand yang sesuai dengan kebutuhan Anda untuk memulai pembuatan invoice yang profesional dan efisien.
                </p>
                <div class="brand-buttons">
                    <button class="btn-FOLLOWERSINDO" onclick="selectBrand('FOLLOWERSINDO')">FOLLOWERSINDO</button>
                    <button class="btn-RESELLERINDO" onclick="selectBrand('RESELLERINDO')">RESELLERINDO</button>
                    <button class="btn-VIRALIZER" onclick="selectBrand('VIRALIZER')">VIRALIZER</button>
                </div>
            </div>
            <div class="hero-right">
                <img src="img/illustration_wonders_hero.png" alt="Invoice Illustration">
            </div>
        </div>
    </div>

    <div class="form-container" id="formContainer">
        <h1 id="formTitle">Form Pengisian Invoice</h1>

        <form id="invoiceForm">
            <div class="form-row">
                <div class="form-group invoice-input">
                    <label for="invoiceNumber">Nomor Invoice:</label>
                    <input type="text" id="invoiceNumber" name="invoiceNumber" required>
                </div>
                <div class="form-group invoice-input">
                    <label for="invoiceDate">Tanggal Invoice:</label>
                    <input type="date" id="invoiceDate" name="invoiceDate" required>
                </div>
            </div>

            <hr>

            <div class="form-row">
                <div>
                    <h2>FROM (Perusahaan Anda)</h2>
                    <div class="form-group">
                        <label for="yourCompanyName">Nama Perusahaan:</label>
                        <input type="text" id="yourCompanyName" name="yourCompanyName" required>
                    </div>
                    <div class="form-group">
                        <label for="yourCompanyField">Bidang Perusahaan:</label>
                        <input type="text" id="yourCompanyField" name="yourCompanyField" value="Digital Services" required>
                    </div>
                </div>

                <div>
                    <h2>TO (Pelanggan)</h2>
                    <div class="form-group">
                        <label for="clientCompanyName">Nama:</label>
                        <input type="text" id="clientCompanyName" name="clientCompanyName" required>
                    </div>
                    <div class="form-group">
                        <label for="clientCompanyField">Email</label>
                        <input type="email" id="clientCompanyField" name="clientCompanyField">
                    </div>
                </div>
            </div>

            <hr>

            <h2>ITEMS</h2>
            <table class="item-table" id="itemsTable">
                <thead>
                    <tr>
                        <th>Quantity</th>
                        <th>Username</th>
                        <th>Services</th>
                        <th>Unit Price</th>
                        <th>Grand Total</th>
                        <th>Aksi</th>
                    </tr>
                </thead>
                <tbody>
                    </tbody>
            </table>
            <button type="button" class="add-item-btn" onclick="addItemRow()">Tambah Item</button>

            <hr>

            <div class="form-row">
                <div class="form-group" style="width: calc(50% - 12.5px);">
                    <label for="notes">Notes:</label>
                    <textarea id="notes" name="notes" rows="4"></textarea>
                </div>
                <div style="width: calc(50% - 12.5px);">
                    <table class="item-table">
                        <thead>
                            <tr>
                                <th colspan="2">AMOUNT DUE</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Subtotal</td>
                                <td id="subtotalDisplay">Rp 0</td>
                            </tr>
                            <tr>
                                <td>Fee Admin</td>
                                <td>Rp <input type="number" id="adminFeeAmount" value="0" min="0" oninput="calculateTotals()"></td>
                            </tr>
                            <tr>
                                <td>Tax</td>
                                <td>Rp <input type="number" id="taxAmount" value="0" min="0" oninput="calculateTotals()"></td>
                            </tr>
                            <tr>
                                <td>Discount</td>
                                <td>Rp <input type="number" id="discountAmount" value="0" min="0" oninput="calculateTotals()"></td>
                            </tr>
                            <tr>
                                <td><strong>Total</strong></td>
                                <td id="totalDisplay"><strong>Rp 0</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <button type="submit" class="create-invoice-btn">Buat Invoice</button>
        </form>
    </div>

    <div class="invoice-display-section" id="invoiceDisplaySection">
        <div class="logo-and-header">
            <img id="mainBrandLogo" class="main-logo" src="" alt="Brand Logo">
            <h1 id="displayBrandName"></h1>
            <p id="displayBrandTagline"></p>
        </div>

        <div class="contact-info">
            <div class="contact-left">
                <p><img id="displayInstaLogo" src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram"> <span id="displayInstaAccount">@brand_store</span></p>
                <p><img src="https://cdn.brandfetch.io/id5o3EIREg/w/400/h/400/theme/dark/icon.jpeg?c=1dxbfHSJFAPEGdCLU4o5B" alt="Email"> <span id="displayEmail">brandstore@gmail.com</span></p>
                <p><img src="https://upload.wikimedia.org/wikipedia/commons/6/6c/Phone_icon.png" alt="Phone"> <span id="displayPhoneNumber">(0341)-878790</span></p>
            </div>
            <div class="contact-right">
                <div class="invoice-number-container">
                    <span class="invoice-number">Invoice #<span id="displayInvoiceNumber"></span></span>
                    <span class="invoice-date">Tanggal: <span id="displayInvoiceDate"></span></span>
                </div>
            </div>
        </div>

        <div class="address-section">
            <div class="address-box">
                <div class="header-box">FROM</div>
                <p><strong>Nama Perusahaan:</strong> <span id="fromCompanyName"></span></p>
                <p><strong>Bidang:</strong> <span id="fromCompanyField"></span></p>
            </div>
            <div class="address-box">
                <div class="header-box">TO</div>
                <p><strong>Nama:</strong> <span id="toCompanyName"></span></p>
                <p><strong>Email:</strong> <span id="toCompanyField"></span></p>
            </div>
        </div>

        <h2>ITEMS</h2>
        <table class="items-display-table" id="displayItemsTable">
            <thead>
                <tr>
                    <th>Quantity</th>
                    <th>Username</th>
                    <th>Services</th>
                    <th>Unit Price</th>
                    <th>Grand Total</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>

        <div class="summary-section">
            <div class="bottom-section-left">
                <div class="notes-box">
                    <h3>Notes</h3>
                    <div id="displayNotes" class="notes-content"></div>
                </div>
                <div class="copyright-container">
                    <div class="copyright-text">
                        <span class="question-title" id="copyrightQuestion">Questions?</span>
                        If you have any questions regarding this invoice, please feel free to contact me at your convenience. I will reply as soon as I get your message.
                    </div>
                </div>
            </div>
            <table class="amount-due-table" id="amountDueTable">
                <thead>
                    <tr>
                        <th colspan="2">AMOUNT DUE</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Subtotal</td>
                        <td id="displaySubtotal">Rp 0</td>
                    </tr>
                    <tr>
                        <td>Fee Admin</td>
                        <td id="displayAdminFee">Rp 0</td>
                    </tr>
                    <tr>
                        <td>Tax</td>
                        <td id="displayTax">Rp 0</td>
                    </tr>
                    <tr>
                        <td>Discount</td>
                        <td id="displayDiscount">Rp 0</td>
                    </tr>
                    <tr>
                        <td><strong>Total</strong></td>
                        <td id="displayTotal"><strong>Rp 0</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="download-buttons">
            <button onclick="downloadInvoice('png')">Download as PNG</button>
            <button onclick="downloadInvoice('pdf')">Download as PDF</button>
        </div>
    </div>
</body>
</html>
